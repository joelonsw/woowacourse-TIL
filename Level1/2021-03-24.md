### 2021-03-24

## 90년생 HTML
- 참고: https://www.youtube.com/watch?v=cANdjq3yr1M&t=7s
- __스위스 태생__
    - CERN 물리학 연구소에서 1990년에 WEB 탄생 *(by Tim Berners-Lee)*

- __이후 웹의 폭발적 성장__
    - HTML / CSS / JS
    - 정보 나타냄 / 정보 꾸며줌 / 정보를 움직이게 함

- __HTML 약속__
    - HyperText Markup Language
        - 하이퍼텍스트(링크)를 중요한 특징으로 가지는 마크업 형식의 언어
    - 정보를 태그로 나타내기!
    ``` HTML
    <h1> I am a web developer </h1>
    ```
    - <h1>: 여는 태그, </h1>: 닫는 태그
    - I am ~: 콘텐츠
    - 전체: 엘리먼트
    
    - 태그 150개 이상... 자주 쓰는 것만 알아보고, 나머진 찾아쓰자

## DOM
- __필요성__
    - JS를 통해 html의 데이터를 가져올 수 있음
    - 웹페이지에 보여지는 데이터를 변경할 수 있음
    - 인터랙티브한 웹 어플리케이션 만들 수 있음
    - 동적인 기능이 있는 웹어플리케이션을 만들어보자!

- __정의__
    - Document Object Model의 약자
    - 프로그래밍 언어가 DOM 구조에 접근할 수 있는 방법을 제공해, 문서 구조/스타일/내용을 변경할 수 있게 한다
    
- __DOM API 사용하기__
    - 엘리먼트 하나 가져오기
        - getElement, querySelector
            - getElementById
            - querySelector
    - 엘리먼트 여러 개 가져오기 (HTML Collection 반환)
        - getElements, querySelectorAll
            - getElementsByTagName
            - getElementsByClassName
            - querySelectorAll

- __정리__
    - DOM은 HTML을 위한 API로, HTML을 "탐색"할 수 있고, 구조를 "변경"할 수 있음

## BOM
- __필요성__
    - 유저에게 경고창 띄워주기
    - 유저의 yes/no 선택에 따른 응답 보여주고 싶은 경우
    - 유저가 브라우저 나갈 때 진짜 나갈건지 물어보고 싶은 경우
    - 유저가 접속한 환경을 알고 싶은 경우
    - 현재 url 위치, 접속 history를 알고 싶은 경우!

- __정의__
    - BOM은 웹 브라우저 환경의 다양한 기능을 객체처럼 다루는 모델
    - 웹 브라우저의 버튼, URL 주소 입력 창, 타이틀 바 등 웹브라우저 일부분을 제어

- __대표 BOM__
    - window: 브라우저 창 객체
    - screen: 사용자 환경의 디스플레이 정보 객체
    - location: 현재 페이지의 url을 다루는 객체
    - navigator: 브라우저 환경 정보 객체
    - history: 현재 브라우저가 접근했던 URL history
    
- __정리__
    - BOM은 웹 브라우저의 기능을 객체처럼 다루는 모델
    - BOM의 API 활용하면, UX 올라감
    
## DOM & BOM 테코톡
- __DOM__
    - JS가 HTML 어케아누?... DOM을 통해!__
    - 문서에 대한 모든 내용을 담고 있음
    - __"HTML 요소간의 부자 관계를 반영하여 트리 구조로 구성한 것"__
- __DOM API를 통해 노드 취득__
    - getElement~, querySelect~        
    - 여러개 라면 HTMLCollection, NodeList 등을 반환
        - 유사 배열... 배열 변환 후 사용을 권장
- __DOM API를 통해 노드 추가__
    - innerHTML: 장) 쉬움, 단) 한번만 삽입할 것
    - insertAdjacentHTML: 장) 기존요소 제거 X, 단) 크로스 사이트 스크립팅 공격에 취약
    - appendChild: 장) 보안이슈 읎음 단) 새로운 자식 노드 생성 필수
- __렌더링 과정__
    - HTML 순차적 탐색하면서 DOM 생성해나감
        - link CSS 만남... CSSOM 생성함
    - DOM + CSSOM 합쳐서 렌더 트리 만듦
        - Script JS 만남... 렌더링 엔진 -> JS 엔진으로 제어권 넘김
        - 만약 JS에서 DOM / CSSOM 건드리면, reflow, repaint 불가피 
    - 질문!
        - CSS 상단에 있는 이유?
            - 외부 스타일 시트 최대한 빠르게 다운 받기 위해
        - Script 하단에 있는 이유?
            - HTML 파서는 script 태그를 만나면 파싱 멈추고 스크립트 읽기에 로딩 늦어짐
            - 생성안된 DOM 읽거나 조작하는거 불가능해서 오류 발생할 수 있음
- __렌더링 문제점__
    - 동적 UI 관리 약함... 성능 이슈
        - DOM은 빠른데, css재구성/리페인트가 오래걸림
    - SPA에서 비효율적
- __Virtual DOM__
    - 바뀐 부분만 실제 DOM에 적용
    - 불필요한 렌더링 횟수 줄임
- __BOM__
    - 웹 브라우저 환경의 다양한 기능을 객체처럼 다룸
    - DOM은 BOM에 포함됨
    - window
        - document
        - history
        - location
        - navigator
        - screen

## Event
- __필요성__
    - Interactive 한 사용자 경험!

- __정의__
    - 웹 탐색과정에서 사용자가 ~했을 때를 담당
    - ~했을 때에 대한 이벤트를 다루도록 한다!
    
- __종류__
    - 1. 사용자 인터페이스 이벤트
        - load: 웹 페이지 로드 되었을 때
        - unload: 새로운 페이지르 요청했을 때
        - error: 브라우저가 JS 오류를 만났거나, 요청한 자원이 없을 때
        - resize: 브라우저 창의 크기 조정했을 때
        - scroll: 사용자가 페이지 위아래로 스크롤할 때

    - 2. 키보드 이벤트
        - keydown: 사용자가 키 처음 눌렀을 때
        - keyup: 사용자가 키를 뗄 때
        - keypress: 사용자가 키 누르고 뗴어서 문자 화면에 표시 될 떄
        
    - 3. 마우스 이벤트 
        - click: 마우스 클릭했을 때
        - dblclick: 마우스 더블 클릭했을 때
        - mousedown: 마우스 누르고 있을 때
        - mouseup: 마우스 뗄 때
        - mousemove: 마우스 움직일 때
        - mouseover: 요소 위로 마우스를 움직였을 때
        - mouseout: 요소 바깥으로 마우스 움직였을 때

    - 4. focus와 blur
        - link, form에서 포커스를 줄 수 있음
        - 사용자가 form의 요소들과 상호작용(도움말/피드백 등)
        - 유효성 검사 수행 등
        - focus: 마우스를 클릭했을 때
        - blur: 마우스를 더블클릭했을 때
        - focusin: 마우스 누르고 있을 떄
        - focusout: 요소에서 마우스 누르고 있던거 뗄 때
        
- __이벤트 핸들러__
    - element.addEventListener(이벤트, 코드[, options]);
    - 매개변수를 전달 하고자 하면, 다음과 같은 익명함수를 이용하자
    ``` JS
    $stationAddButton.addEventListener('blur', function() {
        onAddStationHandler(name);
    })
    ```
  
- __이벤트 위임__
    - 이벤트 많다 == 페이지 실행 속도 느리다
    - 효율적 이벤트 관리 위해, 자식 요소를 포함할 수 있는 요소에 이벤트 핸들러를 지정하고, 이벤트의 흐름을 이용해 다룰 수 있음
    - 장점
        - 동적으로 추가되는 "새로운" 요소에도 동작
        - 코드가 간결
    - 예시
        ``` HTML
        <ul id="parent-list">
            <li id="item1">Item 1</li>
            <li id="item2">Item 2</li>
            <li id="item3">Item 3</li>
        </ul>        
        ```
        ``` JS
        document.getElementById("parent-list").addEventListener("click", function(e) {
            if (e.target && e.target.nodeName == "LI") {
                console.log(`List item ${e.target.id} was clicked!`);
            }
        });
        ```