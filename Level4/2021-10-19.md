### 2021-10-19

## BatchSize
- 5000, 1000 안되네.. 10으로 그냥 해버려
- 일단 50으로 했더니 되네. 100도 되고 200도 되고 
- 500은 안되네. 400은 됨 470안됨 420안됨 405됨

## fetchJoin의 대상이 없다면?
```java
@Query(value = "select distinct feed " +
        "from Feed as feed " +
        "join fetch feed.author " +
        "join fetch feed.comments")
List<Feed> findAllWithFetchJoin();
```
- 근데 해당 쿼리는 Comment가 최소 한 개가 있는 커멘트만 가져와
- 해당 메서드를 보면, inner join 문을 통해서 피드를 추출한단 말이지.
    - inner join이 뭐야. 둘 다 있어야 (교집합) 테이블 조인해서 값 가져오는 거자나
- 나는 사실 comment가 없더라도 feed 껍데기라도 가져올 줄 알았어. 
- 그런걸 바라면 feed를 중심으로 집합을 때려버리는 걸로 해야지. 이렇게
```java
@Query(value = "select distinct feed " +
        "from Feed as feed " +
        "join fetch feed.author " +
        "left join fetch feed.comments")
List<Feed> findAllWithFetchJoin();
```
- 이러면 커멘트가 없는 feed들도 나오네!