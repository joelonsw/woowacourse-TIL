### 2021-08-24

## í”„ë¡œë¥¼ ìœ„í•œ ì›¹ ê¸°ìˆ  ì…ë¬¸ [7ì¥. ë³´ì•ˆì„ í™•ë³´í•˜ê¸° ìœ„í•œ ë°©ë²•]
- **ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì§€ì¼œì•¼ í•  ë³´ì•ˆ**
    1. ê¸°ë°€ì„±: ì œ3ìì— ëŒ€í•œ ì •ë³´ ìœ ì¶œ ë°©ì§€
    2. ì™„ì „ì„±: ì œ3ìì— ì˜í•œ ì•…ì˜ì ì¸ ì •ë³´ ìˆ˜ì • ë°©ì§€
    3. ê°€ìš©ì„±: ì ì ˆí•œ ê¶Œí•œì„ ê°€ì§„ ì‚¬ëŒì´ ì ì ˆí•œ ì •ë³´ë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•  ê²ƒ

- **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ ëŒ€í‘œì ì¸ ê³µê²© ìˆ˜ë²•ê³¼ ê·¸ ëŒ€ì±…**    
    1. SQL ì¸ì ì…˜
        - **ì´ê²Œ ë­”ë°?**
            - íŒ¨ìŠ¤ì›Œë“œ ì…ë ¥ì¹¸ì— "aaa' or '1=1'" ë“±ì„ ë„£ì–´ì„œ SQL ê²°ê³¼ë¡œ ë ˆì½”ë“œ ê°€ì ¸ì˜¤ê¸°
            - ì œ 3ìì˜ ë¶€ì • ë¡œê·¸ì¸ì´ë‚˜ ì—´ëŒ ê¶Œí•œì´ ì—†ëŠ” ì •ë³´ì— ëŒ€í•œ ì ‘ê·¼, DBì˜ ë¶€ì • ìˆ˜ì •/ì‚­ì œ ê°™ì€ ê³µê²© í—ˆìš©, ê°œì¸ì •ë³´ ìœ ì¶œì˜ í”¼í•´
        - **í•´ê²° ë°©ë²•**
            - ì…ë ¥ê°’ Validation
            - PreparedStatement í™œìš©í•˜ì—¬ ë³€ìˆ˜ë¡œ ë„£ê¸° (ì¿¼ë¦¬ êµ¬ì¡° ë³€ê²½ì´ ë¶ˆê°€)
    2. í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŒ… (XSS)
        - **ì´ê²Œ ë­”ë°?**
            - HTML ì•ˆì— ì•…ì˜ì ì¸ ì‘ë™ì„ í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¬ëŠ” ê³µê²© ìˆ˜ë²•
            - ìë°” ìŠ¤í¬ë¦½íŠ¸ ì¸ì ì…˜
        - **í•´ê²° ë°©ë²•**
            - ìƒˆë„ˆíƒ€ì´ì§•
                - HTMLì— ì‹¬ì–´ ì›ë˜ êµ¬ì¡° ë°”ê¾¸ê±°ë‚˜ íŒŒê´´í•˜ëŠ” ë¬¸ìì—´ì„ ë¬´í•´í•œ ë¬¸ìì—´ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒ
    3. ì„¸ì…˜ í•˜ì´ì¬í‚¹
        - **ì´ê²Œ ë­”ë°?**
            - ì„¸ì…˜ IDë¥¼ ì œ3ìê°€ í›”ì¹¨
        - **í•´ê²° ë°©ë²•**
            - XSS ëŒ€ì±… ì ìš©
            - SSL ì ìš©
            - ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ ì§§ê²Œ
            - ì„¸ì…˜IDë¥¼ ì–´ë µê²Œ ë§Œë“¤ê¸°
    4. í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìš”ì²­ ìœ„ì¡°(CSRF)
        - **ì´ê²Œ ë­”ë°?**
            - ê³µê²©ìê°€ ë‚ ì¡°í•œ í¼ì—ì„œ ê°•ì œì ìœ¼ë¡œ ì •ë³´ ì œì¶œí•¨ìœ¼ë¡œì¨ ê²Œì‹œíŒì— ì˜ë„í•˜ì§€ ì•Šì€ ê¸€ ì“°ê±°ë‚˜ ê°•ì œë¡œ ë¬¼ê±´ ì‚¬ê²Œ í•˜ëŠ” ê³µê²©
                - ê²Œì‹œíŒì— ê¸€ ì“°ëŠ” Form ìš”ì²­ JS ì½”ë“œë¥¼ HTML ì½”ë“œì•ˆì— ë„£ì–´ë‘ 
                - HTML onLoad ì†ì„± ì´ìš©í•´ ë³´ë‚´ë²„ë¦¬ë©´ ìê¸°ë„ ëª¨ë¥´ê²Œ ê¸€ ì‘ì„±
        - **í•´ê²° ë°©ë²•**
            - ë¬´ì‘ìœ„ ìˆ«ì/ë¬¸ìì—´ í™œìš©í•œ ì¼íšŒìš© í† í° ë°œê¸‰
            - ë¸Œë¼ìš°ì € formì— hidden ì†ì„± ë§Œë“¤ì–´ ì´ë¥¼ ê°™ì´ ì œì¶œí•˜ë„ë¡ ìˆ˜ì •
    5. ê°•ì œ ë¸Œë¼ìš°ì§•
    6. ë””ë ‰í„°ë¦¬ ì ‘ê·¼ ê³µê²©

- **ì„¤ê³„/ì‹¤í–‰ ì˜¤ì‘ë™ì´ë‚˜ ë³´ì•ˆ ë¬¸ì œ ë§‰ê¸° ìœ„í•œ ëŒ€ì±…**
    - ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ ëŒ€ì±…
        - ë¸Œë¼ìš°ì € ìºì‹œ ë¬´íš¨í™”
        - ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ë¬´íš¨í™”
        - ì¼íšŒìš© í† í° ì‚¬ìš©
    - ì´ì¤‘ í¼ ì œì¶œ ëŒ€ì±…
        - ìë°” ìŠ¤í¬ë¦½íŠ¸ë¡œ í¼ ì œì¶œ
        - ì¼íšŒìš© í† í° ì‚¬ìš©
    - ë””ë²„ê·¸ ì •ë³´ ì¶œë ¥ X
    - ì „ì—­ ë³€ìˆ˜ì— ì •ë³´ ë‹´ì§€ ì•Šê¸° (Stateless í•˜ê²Œ ìœ ì§€)
    
## HTTP ì„œë²„ êµ¬í˜„í•˜ê¸° í•™ìŠµí…ŒìŠ¤íŠ¸ [ì…ì¶œë ¥(I/O) ìŠ¤íŠ¸ë¦¼]
- *ì°¸ê³  1: https://develop-im.tistory.com/54*
- *ì°¸ê³  2: https://lannstark.tistory.com/34*
- **ìë°”ì—ì„œëŠ” Streamì„ í†µí•´ ë°ì´í„° ì…ì¶œë ¥**
    - ë°ì´í„° ì…ë ¥ ë°›ì„ ë•Œ: InputStream
    - ë°ì´í„° ì¶œë ¥í•  ë•Œ: OutputStream
    - NW ìƒì˜ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ê³¼ ë°ì´í„° êµí™˜í•˜ë ¤ë©´ ì–‘ìª½ ëª¨ë‘ ì…ë ¥/ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ í•„ìš”
    - ë‹¨ì¼ ë°©í–¥ìœ¼ë¡œ ì—°ì†ì ìœ¼ë¡œ í˜ëŸ¬ê°
    - Java.io íŒ¨í‚¤ì§€ì—ì„œ ê¸°ë³¸ì ì¸ ë°ì´í„° ì…ì¶œë ¥ ì œê³µ
        - íŒŒì¼ ì‹œìŠ¤í…œì˜ ì •ë³´ë¥¼ ì–»ê¸° ìœ„í•œ File í´ë˜ìŠ¤ì™€ ë°ì´í„° ì…ì¶œë ¥ ë‹´ë‹¹ Stream í´ë˜ìŠ¤ ì œê³µ
        - File: íŒŒì¼ ì‹œìŠ¤í…œì˜ íŒŒì¼ ì •ë³´ ì–»ê¸° ìœ„í•œ í´ë˜ìŠ¤
        - Console: ì½˜ì†”ë¡œë¶€í„° ë¬¸ì ì…ì¶œë ¥í•˜ê¸° ìœ„í•œ í´ë˜ìŠ¤
        - InputStream/OutputStream: "ë°”ì´íŠ¸ ë‹¨ìœ„" ì…ì¶œë ¥ì„ ìœ„í•œ ìµœìƒìœ„ ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤ => ê·¸ë¦¼/ë©€í‹°ë¯¸ë””ì–´/ë¬¸ì ë“±ì˜ ëª¨ë“  ì¢…ë¥˜
            - FileInputStream/FileOutputStream
            - DataInputStream/DataOutputStream
            - ObjectInputStream/ObjectOutputStream
            - BufferedInputStream/BufferedOutputStream
            - PrintStream
        - Reader/Writer: "ë¬¸ì ë‹¨ìœ„" ì…ì¶œë ¥ì„ ìœ„í•œ ìµœìƒìœ„ ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ í´ë˜ìŠ¤ => ì˜¤ë¡œì§€ ë¬¸ìë§Œ
            - FileReader/FileWriter
            - InputStreamReader/InputStreamWriter
            - BufferedReader/BufferedWriter
            - PrinterWriter

- **InputStream**
    - ë°”ì´íŠ¸ ê¸°ë°˜ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ (ì¶”ìƒ í´ë˜ìŠ¤)
        - íŒŒì¼ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ 
        - ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ì„ í†µí•´ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ 
        - í‚¤ë³´ë“œì—ì„œ ì…ë ¥í•œ ë°ì´í„° ì½ê±°ë‚˜
    - InputStreamì€ í†µë¡œì´ê¸°ì—, readë¥¼ í†µí•´ ì½ì€ ê²ƒì€ ë‹¤ì‹œ ë˜ëŒì•„ê°€ ì½ê¸° X
    - int read(): í•œ ë°”ì´íŠ¸(8bit, ê³ ë¡œ -128~127) ë¥¼ ì½ì–´ int(0~255)ë¡œ ë°˜í™˜, ë°˜í™˜í•  ìˆ˜ ì—†ë‹¤ë©´ -1
    - byte[] readAllBytes(): inputStreamì˜ ëª¨ë“  ë°”ì´íŠ¸ ë‹¤ ì½ì–´ byte ë°°ì—´ë¡œ ë°˜í™˜
    - ByteArrayInputStream
        - ë°”ì´íŠ¸ë¥¼ ë‚´ë¶€ ë²„í¼ì— ë³´ê´€/ìœ ì§€
    - BufferedInputStream
        - *ì°¸ê³ : https://m.blog.naver.com/highkrs/220510982995*
        - ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ íŒŒì¼ì„ ì½ì–´ì˜¬ë•Œ ì‚¬ìš©
        - ë²„í¼..?
            - í”„ë¡œê·¸ë¨ì´ ê¸°ì–µì¥ì¹˜ì— ì ‘ê·¼í•´ì„œ íŒŒì¼ ê°€ì ¸ì˜¤ëŠ” ê±´ ì†ë„ ëŠë ¤ì ¸
            - ë°ì´í„° ì½ì–´ ì˜¬ë•Œ í•œë²ˆì— ì½ì–´ ë²„í¼ì— ë‘ê±°ë‚˜, ë°ì´í„°ë¥¼ ì“¸ ë•Œ ë²„í¼ì— ì¨ë‘ê³  í•œë²ˆì— ì¶œë ¥í•˜ëŠ” ë°©ì‹ ì±„íƒ
        - ë‚´ë¶€ì— ë””í´íŠ¸ë¡œ 8192 ë°”ì´íŠ¸ì˜ ë²„í¼ë¥¼ ë‘ê³  ì‘ì—…í•˜ê¸°ì— ì†ë„ê°€ ë¹¨ë¼ì§
        ```java
        public class BufferedInputStream extends FilterInputStream {
            private static int DEFAULT_BUFFER_SIZE = 8192;
        }
        ```
        - ì†ë„ë¥¼ ì¤‘ìš”ì‹œí•œë‹¤ë©´ ì‚¬ìš©í•  ê²ƒ!

- **OutputStream**
    - ë°”ì´íŠ¸ ê¸°ë°˜ ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ (ì¶”ìƒ í´ë˜ìŠ¤)
        - íŒŒì¼ë¡œ ë³´ë‚´ê±°ë‚˜
        - ë©”ëª¨ë¦¬ë¡œ ë³´ë‚´ê±°ë‚˜
        - ë„¤íŠ¸ì›Œí¬ë¡œ ë³´ë‚´ê±°ë‚˜
    - close(): OutputStreamì„ ë‹«ëŠ”ë‹¤
    - flush(): ë²„í¼ì— ë‚¨ì•„ìˆëŠ” ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì„ ì¶œë ¥
    - write(): ë²„í¼ì˜ ë‚´ìš©ì„ ì¶œë ¥
    - ByteArrayOutputStream
        - ë°”ì´íŠ¸ë¥¼ ë‚´ë¶€ ë²„í¼ì— ë³´ê´€/ìœ ì§€
    - BufferedOutputStream
        - ë°ì´í„°ë¥¼ ì“°ê¸° ìœ„í•´ì„œëŠ” ë²„í¼ë¡œ ì§€ì •í•œ ë§Œí¼ì˜ ë°”ì´íŠ¸ê°€ ìŠ¤íŠ¸ë¦¼ì— ëª¨ì—¬ì•¼ ë³´ì¡°ê¸°ì–µì¥ì¹˜ì— ì”€

- **FilterStream**
    - FilterInputStream: InputStreamì˜ ë©”ì„œë“œ í™œìš©í•˜ë©´ì„œ ì¶”ê°€ì ì¸ ì¥ì¹˜ë“¤ ì œê³µí•˜ë„ë¡
        - BufferedInputStreamì˜ ë¶€ëª¨í´ë˜ìŠ¤
        - DataInputStreamì˜ ë¶€ëª¨í´ë˜ìŠ¤
        - PushbackInputStreamì˜ ë¶€ëª¨í´ë˜ìŠ¤
    - FilterOutputStream: OutputStreamë„ ë¹„ìŠ·
    
- **Reader, Writer**
    - ë¬¸ì ê¸°ë°˜ ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì˜ ìµœìƒìœ„ ì¶”ìƒ í´ë˜ìŠ¤
        - int read(): ì…ë ¥ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë¶€í„° í•œ ê°œ ë¬¸ì ì½ê³  ë¦¬í„´
            - í•œê°œì˜ ë¬¸ìë¥¼ ì½ê³  int íƒ€ì…ìœ¼ë¡œ ë¦¬í„´
            - 4byte ì¤‘ ë 2byteì—ë§Œ ë°ì´í„° ë“¤ì–´ìˆìŒ
        - int read(char[] cbuf): ì…ë ¥ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë¶€í„° ì½ì€ ë¬¸ìë“¤ì„ cbufì— ì €ì¥, ì‹¤ì œ ì½ì€ ë¬¸ììˆ˜ ë¦¬í„´
    - InputStreamReader
        - ë°”ì´íŠ¸ ë‹¨ìœ„ì˜ InputStreamì„ í†µí•´ ë°ì´í„°ë¥¼ ì½ì–´ë“¤ì—¬ ë¬¸ìë‹¨ìœ„ë¡œ ì½ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€í˜•í•œë‹¤
        - ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ìƒì„±ìì—ì„œ ì¸ì½”ë”©ì„ ì„¤ì •í•´ ì¤„ ìˆ˜ ìˆìŒ
            - InputStreamReader(InputStream in, String enc)
    - BufferedReader
        - ì´ê²ƒë„ ë²„í¼ ì‚¬ìš©
        - ì—”í„°ë¥¼ ê²½ê³„ë¡œ ì¸ì‹í•˜ê³ , Stringìœ¼ë¡œ ì¸ì‹í•œ ë°ì´í„° ê³ ì •
        ```java
        @Test
        void BufferedReaderë¥¼_ì‚¬ìš©í•˜ì—¬_ë¬¸ìì—´ì„_ì½ì–´ì˜¨ë‹¤() throws IOException {
            final String emoji = String.join("\r\n",
                    "ğŸ˜€ğŸ˜ƒğŸ˜„ğŸ˜ğŸ˜†ğŸ˜…ğŸ˜‚ğŸ¤£ğŸ¥²â˜ºï¸ğŸ˜Š",
                    "ğŸ˜‡ğŸ™‚ğŸ™ƒğŸ˜‰ğŸ˜ŒğŸ˜ğŸ¥°ğŸ˜˜ğŸ˜—ğŸ˜™ğŸ˜š",
                    "ğŸ˜‹ğŸ˜›ğŸ˜ğŸ˜œğŸ¤ªğŸ¤¨ğŸ§ğŸ¤“ğŸ˜ğŸ¥¸ğŸ¤©",
                    "");
            final InputStream inputStream = new ByteArrayInputStream(emoji.getBytes());
            final Reader reader = new InputStreamReader(inputStream);
            final BufferedReader bufferedReader = new BufferedReader(reader);
        }
        ```
        - ê·¸ëŸ¬ë‹¤ ë³´ë‹ˆ í•´ë‹¹ í•™ìŠµí…ŒìŠ¤íŠ¸ì—ì„œ ê°œí–‰ì´ ì¼ì–´ë‚  ë•Œë§ˆë‹¤ í•œì¤„ì”© ì½ì–´ì˜¬ ìˆ˜ ìˆì—ˆêµ¬ë‚˜!
        
- **try-with-resources**
    - *ì°¸ê³ : https://ryan-han.com/post/java/try_with_resources/*
    - tryì— ìì› ê°ì²´ ì „ë‹¬í•˜ë©´, try ë¸”ë¡ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ìì› close() í•´ì£¼ëŠ” ê¸°ëŠ¥
    - tryì— ì „ë‹¬í•  ê°ì²´ëŠ” AutoClosable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„í–ˆì–´ì•¼í•¨
    - ìŠ¤íŠ¸ë¦¼ ê¸°ë°˜ ê°ì²´ë“¤ì€ í•´ë‹¹ ë°©ì‹ìœ¼ë¡œ ìì› í•´ì œ ê°€ëŠ¥
    ```java
    public static String getHTML(String url) throws IOException {
        URL targetUrl = new URL(url);
        
        try (BufferedReader reader = new BufferedReader(new InputStreamReader(targetUrl.openStream()))) {
            StringBuffer html = new StringBuffer();
            String tmp;
        
            while ((tmp = reader.readLine()) != null) {
                html.append(tmp);
            }   
            return html.toString();
        }   
    }
    ```

## HTTP ì„œë²„ êµ¬í˜„í•˜ê¸° í•™ìŠµí…ŒìŠ¤íŠ¸ [íŒŒì¼ ì²˜ë¦¬]
- ClassLoader
- File
- Files
- Path
- URLDecoder
- Java Stringì˜ ê¸°ë³¸ ì¸ì½”ë”©ì€?

## HTTP ì„œë²„ êµ¬í˜„í•˜ê¸° í•™ìŠµí…ŒìŠ¤íŠ¸ [ì“°ë ˆë“œ]
- ExecutorService
    - execute()
- Executors.newFixedThreadPool()
- CountDownLatch
    - await()
