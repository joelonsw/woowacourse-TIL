### 2021-08-24

## 프로를 위한 웹 기술 입문 [7장. 보안을 확보하기 위한 방법]
- **웹 어플리케이션이 지켜야 할 보안**
    1. 기밀성: 제3자에 대한 정보 유출 방지
    2. 완전성: 제3자에 의한 악의적인 정보 수정 방지
    3. 가용성: 적절한 권한을 가진 사람이 적절한 정보를 이용할 수 있게 할 것

- **웹 애플리케이션에 대한 대표적인 공격 수법과 그 대책**    
    1. SQL 인젝션
        - **이게 뭔데?**
            - 패스워드 입력칸에 "aaa' or '1=1'" 등을 넣어서 SQL 결과로 레코드 가져오기
            - 제 3자의 부정 로그인이나 열람 권한이 없는 정보에 대한 접근, DB의 부정 수정/삭제 같은 공격 허용, 개인정보 유출의 피해
        - **해결 방법**
            - 입력값 Validation
            - PreparedStatement 활용하여 변수로 넣기 (쿼리 구조 변경이 불가)
    2. 크로스 사이트 스크립팅 (XSS)
        - **이게 뭔데?**
            - HTML 안에 악의적인 작동을 하는 자바스크립트를 심는 공격 수법
            - 자바 스크립트 인젝션
        - **해결 방법**
            - 새너타이징
                - HTML에 심어 원래 구조 바꾸거나 파괴하는 문자열을 무해한 문자열로 변경하는 것
    3. 세션 하이재킹
        - **이게 뭔데?**
            - 세션 ID를 제3자가 훔침
        - **해결 방법**
            - XSS 대책 적용
            - SSL 적용
            - 세션 타임아웃 짧게
            - 세션ID를 어렵게 만들기
    4. 크로스 사이트 요청 위조(CSRF)
        - **이게 뭔데?**
            - 공격자가 날조한 폼에서 강제적으로 정보 제출함으로써 게시판에 의도하지 않은 글 쓰거나 강제로 물건 사게 하는 공격
                - 게시판에 글 쓰는 Form 요청 JS 코드를 HTML 코드안에 넣어둠
                - HTML onLoad 속성 이용해 보내버리면 자기도 모르게 글 작성
        - **해결 방법**
            - 무작위 숫자/문자열 활용한 일회용 토큰 발급
            - 브라우저 form에 hidden 속성 만들어 이를 같이 제출하도록 수정
    5. 강제 브라우징
    6. 디렉터리 접근 공격

- **설계/실행 오작동이나 보안 문제 막기 위한 대책**
    - 뒤로 가기 버튼 대책
        - 브라우저 캐시 무효화
        - 뒤로가기 버튼 무효화
        - 일회용 토큰 사용
    - 이중 폼 제출 대책
        - 자바 스크립트로 폼 제출
        - 일회용 토큰 사용
    - 디버그 정보 출력 X
    - 전역 변수에 정보 담지 않기 (Stateless 하게 유지)
    